(function(){Array.prototype.remove=function(b){var c=this.slice(b+1);this.length=b;return this.push.apply(this,c)};var a=(function(){var e=null,q=null,i=[],p=[],l=null,v=null,m=null,j=function(){e=document.createElement("canvas");e.style.display="none";var w=document.getElementsByTagName("body")[0];w.appendChild(e);q=e.getContext("2d")},f=function(w){v=document.getElementById(w);e.width=v.width;e.height=v.height;v.setAttribute("style","visibility:hidden;");m=t(v);i=[],p=[];l=null;q.drawImage(v,0,0)},r=function(){var K=q.getImageData(0,0,e.width,e.height),Q=K.data,B=[],S=[],N=e.width,F=-1,L=-1;var C=function(X,Y){F=X;L=Y;var U=S.length,W=-1,y=-1;for(var T=0;T<U;T++){var V=S[T],Z=V.length;for(var x=0;x<Z;x++){if(V[x]==X){W=T}if(V[x]==Y){y=T}}}if(W!=-1&&y!=-1&&W==y){return}if(W==-1&&y==-1){S.push([X,Y]);return}if(W!=-1&&y==-1){S[W].push(Y);return}if(W==-1&&y!=-1){S[y].push(X);return}if(W!=-1&&y!=-1&&W!=y){S[W]=S[W].concat(S[y]);S.remove(y);return}};var A=Q.length,N=e.width;for(var O=0,I=1;O<A;O+=4,I++){var J=Q[O],P=Q[O+1],R=Q[O+2],H=(I>N)?((I%N)-1):I,G=(I>N)?(Math.ceil(I/N)-1):1;if(k(J,P,R)){p.push({id:I,skin:true,region:0,x:H,y:G,checked:false});var z=-1,D=[I-2,(I-N)-2,I-N-1,(I-N)],w=false;for(var M=0;M<4;M++){var E=D[M];if(p[E]&&p[E].skin){if(p[E].region!=z&&z!=-1&&F!=z&&L!=p[E].region){C(z,p[E].region)}z=p[E].region;w=true}}if(!w){p[I-1].region=B.length;B.push([p[I-1]]);continue}else{if(z>-1){if(!B[z]){B[z]=[]}p[I-1].region=z;B[z].push(p[I-1])}}}else{p.push({id:I,skin:false,region:0,x:H,y:G,checked:false})}}g(B,S);o()},g=function(D,z){var x=z.length,F=[];for(var A=0;A<x;A++){var C=z[A],E=C.length;if(!F[A]){F[A]=[]}for(var w=0;w<E;w++){var B=C[w];F[A]=F[A].concat(D[B]);D[B]=[]}}var y=D.length;while(y--){if(D[y].length>0){F.push(D[y])}}s(F)},s=function(w){var y=w.length;for(var x=0;x<y;x++){if(w[x].length>30){i.push(w[x])}}},o=function(){var y=i.length,w=e.width*e.height,x=0;if(y<3){b(false);return}(function(){var A=false;while(!A){A=true;for(var B=0;B<y-1;B++){if(i[B].length<i[B+1].length){A=false;var z=i[B];i[B]=i[B+1];i[B+1]=z}}}})();while(y--){x+=i[y].length}if((x/w)*100<15){b(false);return}if((i[0].length/x)*100<35&&(i[1].length/x)*100<30&&(i[2].length/x)*100<30){b(false);return}if((i[0].length/x)*100<45){b(false);return}if(i.length>60){b(false);return}b(true)},b=function(x){if(l){l(x)}if(x){var y=document.createElement("div");y.setAttribute("style","position:absolute;width:300px;left:"+(m.left+(e.width/2)-150)+"px;top:"+(m.top+(e.height/2))+"px;z-index:100000;cursor:pointer;padding:10px;background-color:#d9d9d9;font-family:Arial;color:#df0019;");y.innerHTML="<strong>The image contains nudity.</strong><br /><span style='color:#444;'>If this image definitely does not contain nudity click on this message</span>";y.onclick=function(){this.setAttribute("style","display:none");v.setAttribute("style","visibility:visible;")};var w=document.getElementsByTagName("body")[0];w.appendChild(y)}else{v.setAttribute("style","visibility:visible;")}},h=function(){var y=i.length;for(var B=0;B<y;B++){var D=i[B],A=D.length,z=Math.ceil(Math.random()*255),E=Math.ceil(Math.random()*255),F=Math.ceil(Math.random()*255);for(var x=0;x<A;x++){var w=q.getImageData(D[x].x,D[x].y,1,1),C=w.data;C[0]=z;C[1]=E;C[2]=F;w.data=C;q.putImageData(w,D[x].x,D[x].y)}}},k=function(w,C,G){var D=((w>95)&&(C>40&&C<100)&&(G>20)&&((Math.max(w,C,G)-Math.min(w,C,G))>15)&&(Math.abs(w-C)>15)&&(w>C)&&(w>G)),E=d(w,C,G),H=E[0],x=E[1],B=E[2],F=(((H/x)>1.185)&&(((w*G)/(Math.pow(w+C+G,2)))>0.107)&&(((w*C)/(Math.pow(w+C+G,2)))>0.112)),A=c(w,C,G),z=A[0],I=A[1],y=(z>0&&z<35&&I>0.23&&I<0.68);return(D||F||y)},u=function(B,A,x){B/=255,A/=255,x/=255;var C=0.299*B+0.587*A+0.114*x,z=B-C,w=x-C;return[C,z,w]},n=function(y,x,w){return[Math.acos((0.5*((y-x)+(y-w)))/(Math.sqrt((Math.pow((y-x),2)+((y-w)*(x-w)))))),1-(3*((Math.min(y,x,w))/(y+x+w))),(1/3)*(y+x+w)]},c=function(A,z,w){var y=0,C=Math.max(A,z,w),B=Math.min(A,z,w),x=C-B;if(C==A){y=(z-w)/x}else{if(C==z){y=2+((z-A)/x)}else{y=4+((A-z)/x)}}y=y*60;if(y<0){y=y+360}return[y,1-(3*((Math.min(A,z,w))/(A+z+w))),(1/3)*(A+z+w)]},d=function(z,y,w){var x=z+y+w;return[(z/x),(y/x),(w/x)]},t=function(z){var w=0,A=0;while(z!=null){w+=z.offsetLeft;A+=z.offsetTop;z=z.offsetParent}return{left:w,top:A}};return{init:function(){j()},load:function(w){f(w)},scan:function(w){if(arguments.length>0&&typeof(arguments[0])=="function"){l=w}r()}}})();if(!window.nude){window.nude=a}})();window.onload=function(){nude.init()};